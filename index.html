<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.5">
  <title>relh.net</title>
  <meta name="description" content="Richard's HTML 1.0 WebPage TM CC R">
  <meta name="author" description="Richard">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oxygen:400,300,700">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  
<div class="content">
  <h1 id="head" class="content__heading">Richard Higgins</h1>
  <p id="blurb" class="content__teaser">Hi, I like ideas, thinking, and reading. I like programming because I can make what I imagine.</p>
  <button id="mute" class="content__cta" style="cursor:pointer;">Listen In</button><br><br>
  <a href="/resume" id="resume" class="content__cta">Resume</a><br><br>
  <audio id="my-audio" src="media/stillness_in_woe.mp3" autoplay muted loop></audio>
</div><!-- /content -->

<video id="my-video" class="video" autoplay muted loop>
  <source src="media/sunrise.mp4" type="video/mp4">
</video><!-- /video -->

<script>
(function() {
  /**
   * Video element
   * @type {HTMLElement}
   */
  var video = document.getElementById("my-video");
  video.playbackRate = 1.71;
  var audio = document.getElementById("my-audio");

  var muteButton = document.getElementById("mute");
  muteButton.addEventListener('click', function () {
    if (audio.muted) {
      audio.muted = false;
    } else {
      audio.muted = true;
    } 
  });

  /**
   * Check if video can play, and play it
   */
  var started = false;
  video.addEventListener( "canplay", function() {
    //video.play();
    var i = 0;
    if (started == false) {
      var colorChanger = setInterval(function () {
        var head = document.getElementById("head");
        var blurb = document.getElementById("blurb");
        var color = 9;
        head.style.color = "#"+(color-(~~(i/10)))+(color-(i%10))+(color-(~~(i/10)))+(color-(i%10))+(color-(~~(i/10)))+(color-(i%10));
        blurb.style.color = "#"+(color-(~~(i/10)))+(color-(i%10))+(color-(~~(i/10)))+(color-(i%10))+(color-(~~(i/10)))+(color-(i%10));
        i = i + 1;
        if (i >= 99) {
          clearInterval(colorChanger);
        }
      }, 400);
      started = true;
    }
  });
  /*
  audio.addEventListener( "canplay", function() {
    audio.play();
  });*/
})();
</script>

</body>
</html>
